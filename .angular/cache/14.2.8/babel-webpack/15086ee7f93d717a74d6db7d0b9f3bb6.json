{"ast":null,"code":"import _asyncToGenerator from \"/Users/gionnimontana/Documents/privRepo/demo-angular-table/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { addMatch, deleteMatches, getMatchesMap } from 'src/api/matches';\nimport { matchesToTableData } from 'src/utils/helpers/matches';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/material/table\";\nimport * as i3 from \"@angular/material/progress-spinner\";\nimport * as i4 from \"../delete-button/delete-button.component\";\nimport * as i5 from \"../add-button/add-button.component\";\n\nfunction MatchTableComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\");\n  }\n}\n\nfunction MatchTableComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-spinner\");\n  }\n}\n\nfunction MatchTableComponent_ng_template_3_th_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 19);\n    i0.ɵɵtext(1, \" ID \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction MatchTableComponent_ng_template_3_td_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r19 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r19.id, \" \");\n  }\n}\n\nfunction MatchTableComponent_ng_template_3_th_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 21);\n    i0.ɵɵtext(1, \" Teams \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction MatchTableComponent_ng_template_3_td_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r20 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r20.teams, \" \");\n  }\n}\n\nfunction MatchTableComponent_ng_template_3_th_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 22);\n    i0.ɵɵtext(1, \" Date \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction MatchTableComponent_ng_template_3_td_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r21 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r21.date, \" \");\n  }\n}\n\nfunction MatchTableComponent_ng_template_3_th_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 23);\n    i0.ɵɵtext(1, \" Time \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction MatchTableComponent_ng_template_3_td_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r22 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r22.time, \" \");\n  }\n}\n\nfunction MatchTableComponent_ng_template_3_th_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 24);\n    i0.ɵɵtext(1, \" Result \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction MatchTableComponent_ng_template_3_td_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r23 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r23.result, \" \");\n  }\n}\n\nfunction MatchTableComponent_ng_template_3_th_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"th\", 25)(1, \"app-add-button\", 26);\n    i0.ɵɵlistener(\"click\", function MatchTableComponent_ng_template_3_th_17_Template_app_add_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r24 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r24.addMatch());\n    });\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r15 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"loading\", ctx_r15.loadingAddMatch);\n  }\n}\n\nfunction MatchTableComponent_ng_template_3_td_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"td\", 20)(1, \"app-delete-button\", 26);\n    i0.ɵɵlistener(\"click\", function MatchTableComponent_ng_template_3_td_18_Template_app_delete_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r28);\n      const element_r26 = restoredCtx.$implicit;\n      const ctx_r27 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r27.deleteMatch(element_r26.id));\n    });\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const element_r26 = ctx.$implicit;\n    const ctx_r16 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"loading\", ctx_r16.loadingDelete[element_r26.id]);\n  }\n}\n\nfunction MatchTableComponent_ng_template_3_tr_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 27);\n  }\n}\n\nfunction MatchTableComponent_ng_template_3_tr_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 28);\n  }\n}\n\nfunction MatchTableComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 3);\n    i0.ɵɵelementContainerStart(1, 4);\n    i0.ɵɵtemplate(2, MatchTableComponent_ng_template_3_th_2_Template, 2, 0, \"th\", 5);\n    i0.ɵɵtemplate(3, MatchTableComponent_ng_template_3_td_3_Template, 2, 1, \"td\", 6);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(4, 7);\n    i0.ɵɵtemplate(5, MatchTableComponent_ng_template_3_th_5_Template, 2, 0, \"th\", 8);\n    i0.ɵɵtemplate(6, MatchTableComponent_ng_template_3_td_6_Template, 2, 1, \"td\", 6);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(7, 9);\n    i0.ɵɵtemplate(8, MatchTableComponent_ng_template_3_th_8_Template, 2, 0, \"th\", 10);\n    i0.ɵɵtemplate(9, MatchTableComponent_ng_template_3_td_9_Template, 2, 1, \"td\", 6);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(10, 11);\n    i0.ɵɵtemplate(11, MatchTableComponent_ng_template_3_th_11_Template, 2, 0, \"th\", 12);\n    i0.ɵɵtemplate(12, MatchTableComponent_ng_template_3_td_12_Template, 2, 1, \"td\", 6);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(13, 13);\n    i0.ɵɵtemplate(14, MatchTableComponent_ng_template_3_th_14_Template, 2, 0, \"th\", 14);\n    i0.ɵɵtemplate(15, MatchTableComponent_ng_template_3_td_15_Template, 2, 1, \"td\", 6);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(16, 15);\n    i0.ɵɵtemplate(17, MatchTableComponent_ng_template_3_th_17_Template, 2, 1, \"th\", 16);\n    i0.ɵɵtemplate(18, MatchTableComponent_ng_template_3_td_18_Template, 2, 1, \"td\", 6);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵtemplate(19, MatchTableComponent_ng_template_3_tr_19_Template, 1, 0, \"tr\", 17);\n    i0.ɵɵtemplate(20, MatchTableComponent_ng_template_3_tr_20_Template, 1, 0, \"tr\", 18);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"dataSource\", ctx_r4.dataSource);\n    i0.ɵɵadvance(19);\n    i0.ɵɵproperty(\"matHeaderRowDef\", ctx_r4.displayedColumns)(\"matHeaderRowDefSticky\", true);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"matRowDefColumns\", ctx_r4.displayedColumns);\n  }\n}\n\nexport class MatchTableComponent {\n  constructor() {\n    var _this = this;\n\n    this.displayedColumns = ['id', 'teams', 'date', 'time', 'result', 'actions'];\n    this.dataSource = [];\n    this.loading = true;\n    this.loadingDelete = {};\n    this.loadingAddMatch = false;\n    this.updateTable = /*#__PURE__*/_asyncToGenerator(function* () {\n      const [matches, error] = yield getMatchesMap();\n      const tableData = matchesToTableData(matches);\n      _this.dataSource = tableData;\n    });\n\n    this.deleteMatch = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator(function* (id) {\n        _this.loadingDelete[id] = true;\n        const success = yield deleteMatches([id]);\n        if (success) yield _this.updateTable();else alert('Error deleting match');\n        _this.loadingDelete[id] = false;\n      });\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    this.addMatch = /*#__PURE__*/_asyncToGenerator(function* () {\n      if (_this.loadingAddMatch) return;\n      _this.loadingAddMatch = true;\n      const success = yield addMatch();\n      if (success) yield _this.updateTable();else alert('Error adding match');\n      _this.loadingAddMatch = false;\n    });\n  }\n\n  ngOnInit() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this2.updateTable();\n      _this2.loading = false;\n    })();\n  }\n\n}\n\nMatchTableComponent.ɵfac = function MatchTableComponent_Factory(t) {\n  return new (t || MatchTableComponent)();\n};\n\nMatchTableComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MatchTableComponent,\n  selectors: [[\"match-table-component\"]],\n  decls: 5,\n  vars: 3,\n  consts: [[4, \"ngIf\", \"ngIfThen\", \"ngIfElse\"], [\"thenBlock\", \"\"], [\"elseBlock\", \"\"], [\"mat-table\", \"\", 1, \"mat-elevation-z8\", 3, \"dataSource\"], [\"matColumnDef\", \"id\"], [\"id\", \"column_id\", \"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"teams\"], [\"id\", \"column_teams\", \"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"matColumnDef\", \"date\"], [\"id\", \"column_date\", \"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"matColumnDef\", \"time\"], [\"id\", \"column_time\", \"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"matColumnDef\", \"result\"], [\"id\", \"column_result\", \"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"matColumnDef\", \"actions\"], [\"id\", \"column_actions\", \"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\", \"matHeaderRowDefSticky\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"id\", \"column_id\", \"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [\"id\", \"column_teams\", \"mat-header-cell\", \"\"], [\"id\", \"column_date\", \"mat-header-cell\", \"\"], [\"id\", \"column_time\", \"mat-header-cell\", \"\"], [\"id\", \"column_result\", \"mat-header-cell\", \"\"], [\"id\", \"column_actions\", \"mat-header-cell\", \"\"], [3, \"loading\", \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n  template: function MatchTableComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, MatchTableComponent_div_0_Template, 1, 0, \"div\", 0);\n      i0.ɵɵtemplate(1, MatchTableComponent_ng_template_1_Template, 1, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵtemplate(3, MatchTableComponent_ng_template_3_Template, 21, 4, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(2);\n\n      const _r3 = i0.ɵɵreference(4);\n\n      i0.ɵɵproperty(\"ngIf\", ctx.loading)(\"ngIfThen\", _r1)(\"ngIfElse\", _r3);\n    }\n  },\n  dependencies: [i1.NgIf, i2.MatTable, i2.MatHeaderCellDef, i2.MatHeaderRowDef, i2.MatColumnDef, i2.MatCellDef, i2.MatRowDef, i2.MatHeaderCell, i2.MatCell, i2.MatHeaderRow, i2.MatRow, i3.MatProgressSpinner, i4.DeleteButtonComponent, i5.AddButtonComponent],\n  styles: [\"table[_ngcontent-%COMP%] {\\n    width: 100%;\\n  }\\n\\n  #column_id[_ngcontent-%COMP%] {\\n    width: 110px;\\n  }\\n\\n  #column_teams[_ngcontent-%COMP%] {\\n    width: 280px;\\n  }\\n\\n  #column_date[_ngcontent-%COMP%] {\\n    width: 100px;\\n  }\\n\\n  #column_time[_ngcontent-%COMP%] {\\n    width: 80px;\\n  }\\n\\n  #column_result[_ngcontent-%COMP%] {\\n    width: 75px;\\n  }\\n\\n  #column_actions[_ngcontent-%COMP%] {\\n    width: 10px;\\n  }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hdGNoLXRhYmxlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxXQUFXO0VBQ2I7O0VBRUE7SUFDRSxZQUFZO0VBQ2Q7O0VBRUE7SUFDRSxZQUFZO0VBQ2Q7O0VBRUE7SUFDRSxZQUFZO0VBQ2Q7O0VBRUE7SUFDRSxXQUFXO0VBQ2I7O0VBRUE7SUFDRSxXQUFXO0VBQ2I7O0VBRUE7SUFDRSxXQUFXO0VBQ2IiLCJmaWxlIjoibWF0Y2gtdGFibGUuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbInRhYmxlIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgfVxuXG4gICNjb2x1bW5faWQge1xuICAgIHdpZHRoOiAxMTBweDtcbiAgfVxuXG4gICNjb2x1bW5fdGVhbXMge1xuICAgIHdpZHRoOiAyODBweDtcbiAgfVxuXG4gICNjb2x1bW5fZGF0ZSB7XG4gICAgd2lkdGg6IDEwMHB4O1xuICB9XG5cbiAgI2NvbHVtbl90aW1lIHtcbiAgICB3aWR0aDogODBweDtcbiAgfVxuXG4gICNjb2x1bW5fcmVzdWx0IHtcbiAgICB3aWR0aDogNzVweDtcbiAgfVxuXG4gICNjb2x1bW5fYWN0aW9ucyB7XG4gICAgd2lkdGg6IDEwcHg7XG4gIH0iXX0= */\"]\n});","map":{"version":3,"mappings":";AACA,SAASA,QAAT,EAAmBC,aAAnB,EAAkCC,aAAlC,QAAuD,iBAAvD;AACA,SAASC,kBAAT,QAAmC,2BAAnC;;;;;;;;;;ICCAC;;;;;;IAIEA;;;;;;IAUIA;IAAuDA;IAAGA;;;;;;IAC1DA;IAAwCA;IAAeA;;;;;IAAfA;IAAAA;;;;;;IAKxCA;IAA0DA;IAAMA;;;;;;IAChEA;IAAwCA;IAAkBA;;;;;IAAlBA;IAAAA;;;;;;IAKxCA;IAAyDA;IAAKA;;;;;;IAC9DA;IAAwCA;IAAiBA;;;;;IAAjBA;IAAAA;;;;;;IAKxCA;IAAyDA;IAAKA;;;;;;IAC9DA;IAAwCA;IAAiBA;;;;;IAAjBA;IAAAA;;;;;;IAKxCA;IAA2DA;IAAOA;;;;;;IAClEA;IAAwCA;IAAmBA;;;;;IAAnBA;IAAAA;;;;;;;;IAKxCA,+BAA2D,CAA3D,EAA2D,gBAA3D,EAA2D,EAA3D;IAC8CA;MAAAA;MAAA;MAAA,OAASA,kCAAT;IAAmB,CAAnB;IAAqBA;;;;;IAAjDA;IAAAA;;;;;;;;IAElBA,+BAAuC,CAAvC,EAAuC,mBAAvC,EAAuC,EAAvC;IAGIA;MAAA;MAAA;MAAA;MAAA,OAASA,mDAAT;IAAgC,CAAhC;IACDA;;;;;;IAFCA;IAAAA;;;;;;IAMNA;;;;;;IACAA;;;;;;IA9CFA;IAGEA;IACEA;IACAA;IACFA;IAGAA;IACEA;IACAA;IACFA;IAGAA;IACEA;IACAA;IACFA;IAGAA;IACEA;IACAA;IACFA;IAGAA;IACEA;IACAA;IACFA;IAGAA;IACEA;IAGAA;IAMFA;IAEAA;IACAA;IACFA;;;;;IA/CiBA;IA6CKA;IAAAA,0DAAkC,uBAAlC,EAAkC,IAAlC;IACaA;IAAAA;;;;ADjDrC,OAAM,MAAOC,mBAAP,CAA0B;EAQ9BC;IAAA;;IANA,wBAA6B,CAAC,IAAD,EAAO,OAAP,EAAgB,MAAhB,EAAwB,MAAxB,EAAgC,QAAhC,EAA0C,SAA1C,CAA7B;IACA,kBAA8B,EAA9B;IACA,eAAmB,IAAnB;IACA,qBAAyC,EAAzC;IACA,uBAA2B,KAA3B;IASA,kDAAmC,aAAW;MAC5C,MAAM,CAACC,OAAD,EAAUC,KAAV,UAAyBN,aAAa,EAA5C;MACA,MAAMO,SAAS,GAAGN,kBAAkB,CAACI,OAAD,CAApC;MACA,KAAI,CAACG,UAAL,GAAkBD,SAAlB;IACD,CAJD;;IAMA;MAAA,8BAA6C,WAAOE,EAAP,EAAqB;QAChE,KAAI,CAACC,aAAL,CAAmBD,EAAnB,IAAyB,IAAzB;QACA,MAAME,OAAO,SAASZ,aAAa,CAAC,CAACU,EAAD,CAAD,CAAnC;QACA,IAAIE,OAAJ,EAAa,MAAM,KAAI,CAACC,WAAL,EAAN,CAAb,KACKC,KAAK,CAAC,sBAAD,CAAL;QACL,KAAI,CAACH,aAAL,CAAmBD,EAAnB,IAAyB,KAAzB;MACD,CAND;;MAAA;QAAA;MAAA;IAAA;;IAQA,+CAAgC,aAAW;MACzC,IAAI,KAAI,CAACK,eAAT,EAA0B;MAC1B,KAAI,CAACA,eAAL,GAAuB,IAAvB;MACA,MAAMH,OAAO,SAASb,QAAQ,EAA9B;MACA,IAAIa,OAAJ,EAAa,MAAM,KAAI,CAACC,WAAL,EAAN,CAAb,KACKC,KAAK,CAAC,oBAAD,CAAL;MACL,KAAI,CAACC,eAAL,GAAuB,KAAvB;IACD,CAPD;EArBiB;;EAEXC,QAAQ;IAAA;;IAAA;MACZ,MAAM,MAAI,CAACH,WAAL,EAAN;MACA,MAAI,CAACI,OAAL,GAAe,KAAf;IAFY;EAGb;;AAb6B;;;mBAAnBb;AAAmB;;;QAAnBA;EAAmBc;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCPhCnB;MAEAA;MAMAA;;;;;;;;MARMA,mCAAe,UAAf,EAAeoB,GAAf,EAAe,UAAf,EAAeC,GAAf","names":["addMatch","deleteMatches","getMatchesMap","matchesToTableData","i0","MatchTableComponent","constructor","matches","error","tableData","dataSource","id","loadingDelete","success","updateTable","alert","loadingAddMatch","ngOnInit","loading","selectors","decls","vars","consts","template","_r1","_r3"],"sourceRoot":"","sources":["/Users/gionnimontana/Documents/privRepo/demo-angular-table/src/app/components/match-table/match-table.component.ts","/Users/gionnimontana/Documents/privRepo/demo-angular-table/src/app/components/match-table/match-table.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { addMatch, deleteMatches, getMatchesMap } from 'src/api/matches';\nimport { matchesToTableData } from 'src/utils/helpers/matches';\nimport { MatchTableRow } from 'src/utils/interfaces/matches';\n\n@Component({\n  selector: 'match-table-component',\n  templateUrl: './match-table.component.html',\n  styleUrls: ['./match-table.component.css']\n})\nexport class MatchTableComponent implements OnInit {\n\n  displayedColumns: string[] = ['id', 'teams', 'date', 'time', 'result', 'actions'];\n  dataSource: MatchTableRow[] = [];\n  loading: boolean = true;\n  loadingDelete: {[id: string]: boolean} = {}\n  loadingAddMatch: boolean = false\n\n  constructor() { }\n\n  async ngOnInit() {\n    await this.updateTable()\n    this.loading = false\n  }\n\n  updateTable: () => Promise<void> = async () => {\n    const [matches, error] = await getMatchesMap()\n    const tableData = matchesToTableData(matches)\n    this.dataSource = tableData\n  }\n\n  deleteMatch: (id: string) => Promise<void> = async (id: string) => {\n    this.loadingDelete[id] = true\n    const success = await deleteMatches([id])\n    if (success) await this.updateTable()\n    else alert('Error deleting match')\n    this.loadingDelete[id] = false\n  }\n\n  addMatch: () => Promise<void> = async () => {\n    if (this.loadingAddMatch) return\n    this.loadingAddMatch = true\n    const success = await addMatch()\n    if (success) await this.updateTable()\n    else alert('Error adding match')\n    this.loadingAddMatch = false\n  }\n  \n}\n","\n\n\n<div *ngIf=\"loading; then thenBlock else elseBlock\"></div>\n\n<ng-template #thenBlock>\n\n  <mat-spinner></mat-spinner>\n\n</ng-template>\n\n<ng-template #elseBlock>\n\n  <table mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z8\">\n\n    <!-- ID Column -->\n    <ng-container matColumnDef=\"id\">\n      <th id =\"column_id\" mat-header-cell *matHeaderCellDef> ID </th>\n      <td mat-cell *matCellDef=\"let element\"> {{element.id}} </td>\n    </ng-container>\n\n    <!-- Teams Column -->\n    <ng-container matColumnDef=\"teams\">\n      <th id =\"column_teams\" mat-header-cell *matHeaderCellDef> Teams </th>\n      <td mat-cell *matCellDef=\"let element\"> {{element.teams}} </td>\n    </ng-container>\n  \n    <!-- Date Column -->\n    <ng-container matColumnDef=\"date\">\n      <th id =\"column_date\" mat-header-cell *matHeaderCellDef> Date </th>\n      <td mat-cell *matCellDef=\"let element\"> {{element.date}} </td>\n    </ng-container>\n  \n    <!-- Time Column -->\n    <ng-container matColumnDef=\"time\">\n      <th id =\"column_time\" mat-header-cell *matHeaderCellDef> Time </th>\n      <td mat-cell *matCellDef=\"let element\"> {{element.time}} </td>\n    </ng-container>\n  \n    <!-- Result Column -->\n    <ng-container matColumnDef=\"result\">\n      <th id =\"column_result\" mat-header-cell *matHeaderCellDef> Result </th>\n      <td mat-cell *matCellDef=\"let element\"> {{element.result}} </td>\n    </ng-container>\n\n    <!-- Action Column -->\n    <ng-container matColumnDef=\"actions\">\n      <th id =\"column_actions\" mat-header-cell *matHeaderCellDef>\n        <app-add-button [loading]=\"loadingAddMatch\" (click)=\"addMatch()\"></app-add-button>\n      </th>\n      <td mat-cell *matCellDef=\"let element\"> \n        <app-delete-button \n          [loading]=\"loadingDelete[element.id]\" \n          (click)=\"deleteMatch(element.id)\"\n        ></app-delete-button>\n      </td>\n    </ng-container>\n  \n    <tr mat-header-row *matHeaderRowDef=\"displayedColumns sticky: true\" ></tr>\n    <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n  </table>\n  \n</ng-template>"]},"metadata":{},"sourceType":"module"}